# ุณูุฑูุจุชุงุช ุงูุตูุงูุฉ - OrderLink Backend

## ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงููุฌูุฏ ูุญุชูู ุนูู ุณูุฑูุจุชุงุช ุงูุตูุงูุฉ ูุงูู migrations ูููุดุฑูุน.

## ุงูุณูุฑูุจุชุงุช ุงููุชุงุญุฉ

### 1. fix-department-users.ts

**ุงูุบุฑุถ**: ุฅุตูุงุญ ูุณุชุฎุฏูู ุงูุฃูุณุงู ุงูุฐูู ูุง ูููููู `departmentId`

**ูุชู ุชุณุชุฎุฏูู**:
- ุจุนุฏ ุชุฑููุฉ ุงููุธุงู ูู ุฅุตุฏุงุฑ ูุฏูู
- ุนูุฏ ูุฌูุฏ ูุณุชุฎุฏููู ูู ููุน DEPARTMENT ุจุฏูู ูุณู ุฑุฆูุณู
- ุนูุฏ ุธููุฑ "ุบูุฑ ูุญุฏุฏ" ูู ูุงุฌูุฉ ุงูุทูุจุงุช

**ููููุฉ ุงูุชุดุบูู**:
```bash
# ูู ูุฌูุฏ backend
npx ts-node scripts/fix-department-users.ts
```

**ูุง ููุนูู ุงูุณูุฑูุจุช**:
1. ูุจุญุซ ุนู ุฌููุน ุงููุณุชุฎุฏููู ูู ููุน DEPARTMENT ุงูุฐูู `departmentId = null`
2. ููู ูุณุชุฎุฏูุ ูุฃุฎุฐ ุฃูู ูุณู ูู `departmentSupervisors`
3. ูุนูู ูุฐุง ุงููุณู ูู `departmentId` ุฑุฆูุณู
4. ูุนุฑุถ ุชูุฑูุฑ ููุตู ุนู ุงููุชุงุฆุฌ

**ูุซุงู ุนูู ุงููุฎุฑุฌุงุช**:
```
๐ ุงูุจุญุซ ุนู ูุณุชุฎุฏูู ุงูุฃูุณุงู ุจุฏูู departmentId...

โ ุชู ุงูุนุซูุฑ ุนูู 3 ูุณุชุฎุฏู ูุญุชุงุฌ ุฅูู ุฅุตูุงุญ

โ ุชู ุฅุตูุงุญ ุงููุณุชุฎุฏู: ุฃุญูุฏ ูุญูุฏ
   - ุงููุณู ุงููุนูู: ูุณู ุงูุทูุงุฑุฆ (DEPT-001)
   - ุนุฏุฏ ุงูุฃูุณุงู ุงูุฅุฌูุงูู: 2

โ ุชู ุฅุตูุงุญ ุงููุณุชุฎุฏู: ูุงุทูุฉ ุนูู
   - ุงููุณู ุงููุนูู: ูุณู ุงูุฌุฑุงุญุฉ (DEPT-002)
   - ุนุฏุฏ ุงูุฃูุณุงู ุงูุฅุฌูุงูู: 1

โ๏ธ  ุชู ุชุฎุทู ุงููุณุชุฎุฏู: ูุญูุฏ ุฎุงูุฏ (ูุง ููุฌุฏ ุฃูุณุงู ูุฑุชุจุทุฉ)

๐ ููุฎุต ุงููุชุงุฆุฌ:
   - ุชู ุงูุฅุตูุงุญ: 2
   - ุชู ุงูุชุฎุทู: 1
   - ุงูุฅุฌูุงูู: 3

โจ ุชู ุงูุงูุชูุงุก!
```

**ููุงุญุธุงุช**:
- ุงูุณูุฑูุจุช ุขูู ููููู ุชุดุบููู ุนุฏุฉ ูุฑุงุช
- ูุง ูุคุซุฑ ุนูู ุงููุณุชุฎุฏููู ุงูุฐูู ูุฏููู `departmentId` ุจุงููุนู
- ูุชุฎุทู ุงููุณุชุฎุฏููู ุงูุฐูู ููุณ ูุฏููู ุฃูุณุงู ูุฑุชุจุทุฉ

## ุฅุถุงูุฉ ุณูุฑูุจุช ุฌุฏูุฏ

ุนูุฏ ุฅุถุงูุฉ ุณูุฑูุจุช ุฌุฏูุฏ:

1. ุฃูุดุฆ ููู `.ts` ูู ูุฐุง ุงููุฌูุฏ
2. ุงุณุชุฎุฏู Prisma Client ููุชุนุงูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุฃุถู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูููุงุณุจุฉ
4. ุฃุถู ุฑุณุงุฆู ูุงุถุญุฉ ูููุณุชุฎุฏู
5. ูุซู ุงูุณูุฑูุจุช ูู ูุฐุง ุงูููู

**ูุงูุจ ุฃุณุงุณู**:
```typescript
import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function myScript() {
  console.log('๐ ุจุฏุก ุงูุณูุฑูุจุช...\n');
  
  try {
    // ุงูููุฏ ููุง
    
    console.log('\nโจ ุชู ุงูุงูุชูุงุก!');
  } catch (error) {
    console.error('โ ุญุฏุซ ุฎุทุฃ:', error);
    throw error;
  }
}

myScript()
  .catch((error) => {
    console.error('โ ูุดู ุงูุณูุฑูุจุช:', error);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
```

## ุงูุฃูุงู

โ๏ธ **ุชุญุฐูุฑ**: ูุฐู ุงูุณูุฑูุจุชุงุช ุชุนุฏู ุงูุจูุงูุงุช ูุจุงุดุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช!

**ูุจู ุชุดุบูู ุฃู ุณูุฑูุจุช**:
1. โ ุฎุฐ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. โ ุงูุฑุฃ ุงูููุฏ ูุงููู ูุง ููุนูู
3. โ ุฌุฑุจ ุงูุณูุฑูุจุช ุนูู ุจูุฆุฉ ุชุทููุฑ ุฃููุงู
4. โ ุชุฃูุฏ ูู ูุฌูุฏ ุตูุงุญูุงุช ุงููุตูู ุงูููุงุณุจุฉ

## ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู ูููุงุช ุงูู logs
2. ุชุฃูุฏ ูู ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุฑุงุฌุน ุงูุชูุซูู ูู `/docs`
4. ุงุชุตู ุจูุฑูู ุงูุชุทููุฑ
