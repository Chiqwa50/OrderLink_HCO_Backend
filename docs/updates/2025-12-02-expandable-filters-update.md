# ุชุญุฏูุซ ุขููุฉ ุนุฑุถ ุงูููุชุฑุฉ - ูู Popover ุฅูู Expandable Container

**ุงูุชุงุฑูุฎ:** 2025-12-02  
**ุงููููุงุช:**
- `/frontend/src/components/orders/order-filters-expandable.tsx` (ุฌุฏูุฏ)
- `/frontend/src/app/(dashboard-layout)/orders/manage/page.tsx` (ูุญุฏุซ)

## ุงูููุฎุต

ุชู ุชุบููุฑ ุขููุฉ ุนุฑุถ ุงูููุชุฑุฉ ูู Popover (ูุงุฆูุฉ ููุจุซูุฉ) ุฅูู ุญุงููุฉ ูุงุจูุฉ ููุชูุณุน ูุงูุทู ุชุธูุฑ ุชุญุช ุดุฑูุท ุงูุจุญุซ ูุจุงุดุฑุฉุ ููุง ูููุฑ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู ูุฃูุซุฑ ูุถูุญุงู.

## ุงูุชุบููุฑุงุช ุงูุฑุฆูุณูุฉ

### 1. ุงููููู ุงูุฌุฏูุฏ: `OrderFiltersExpandable`

ุชู ุฅูุดุงุก ูููู ุฌุฏูุฏ ูููุฑ ูุงุฌูุฉ ููุชุฑุฉ ูุงุจูุฉ ููุชูุณุน:

#### ุงููููุฒุงุช:
- โ **ุฒุฑ ุชูุณูุน/ุทู** ูุน ุฃููููุงุช ูุงุถุญุฉ (ChevronDown/ChevronUp)
- โ **ุนุฏุงุฏ ุงูููุงุชุฑ ุงููุดุทุฉ** ุนูู ุงูุฒุฑ (Badge)
- โ **ุฒุฑ ูุณุญ ุณุฑูุน** ุจุฌุงูุจ ุฒุฑ ุงูููุชุฑุฉ
- โ **ุญุงููุฉ ูุงุจูุฉ ููุชูุณุน** ุชุธูุฑ ุชุญุช ุดุฑูุท ุงูุจุญุซ
- โ **ุชุตููู Grid ูุชุฌุงูุจ** ููููุงุชุฑ
- โ **ููุฎุต ุงูููุงุชุฑ ุงููุดุทุฉ** ูู ุฃุณูู ุงูุญุงููุฉ

### 2. ุงูุชุตููู ุงูุฌุฏูุฏ

#### ูุจู ุงูุชุญุฏูุซ (Popover):
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ [๐ ุงูุจุญุซ...] [๐ฝ ููุชุฑุฉ] [๐]      โ
โ                                     โ
โ โโโโโโโโโโโโโโโ                    โ
โ โ ููุชุฑ ููุจุซู  โ                    โ
โ โ - ุงูุญุงูุฉ    โ                    โ
โ โ - ุงููุณู     โ                    โ
โ โโโโโโโโโโโโโโโ                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### ุจุนุฏ ุงูุชุญุฏูุซ (Expandable):
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ [๐ ุงูุจุญุซ...]                          [๐]    โ
โ                                                 โ
โ [๐ฝ ููุชุฑุฉ โก] [โ ูุณุญ ุงููู]                     โ
โ                                                 โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ โ ุงูุญุงูุฉ    โ ุงููุณู    โ ุงููุณุชูุฏุน โ ุงููุณุชุฎุฏู โ โ
โ โ [โผ ุงููู]  โ [โผ ุงููู] โ [โผ ุงููู]  โ [โผ ุงููู] โ โ
โ โ                                             โ โ
โ โ ูู ุชุงุฑูุฎ  โ ุฅูู ุชุงุฑูุฎ                      โ โ
โ โ [____]    โ [____]                          โ โ
โ โ                                             โ โ
โ โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ
โ โ 2 ููุชุฑ ูุดุท          [โ ูุณุญ ุฌููุน ุงูููุงุชุฑ]  โ โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 3. ุงูุชุฎุทูุท ุงููุชุฌุงูุจ (Responsive Grid)

```typescript
<div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
  {/* ุงูููุงุชุฑ */}
</div>
```

#### ุชูุฒูุน ุงูุฃุนูุฏุฉ:
- **Mobile (< 640px):** ุนููุฏ ูุงุญุฏ
- **Tablet (640px - 1024px):** ุนููุฏุงู
- **Desktop (1024px - 1280px):** 3 ุฃุนูุฏุฉ
- **Large Desktop (> 1280px):** 4 ุฃุนูุฏุฉ

### 4. ุงูููุฏ ุงูุฃุณุงุณู

```typescript
export function OrderFiltersExpandable({
  filters,
  onFiltersChange,
  departments = [],
  warehouses = [],
  users = [],
  showDepartmentFilter = false,
  showWarehouseFilter = false,
  showUserFilter = false,
  showStatusFilter = true,
}: OrderFiltersExpandableProps) {
  const [isExpanded, setIsExpanded] = useState(false)

  // ... ููุทู ุงูููุชุฑุฉ

  return (
    <div className="space-y-2">
      {/* Toggle Button */}
      <div className="flex items-center gap-2">
        <Button onClick={() => setIsExpanded(!isExpanded)}>
          <Filter className="ml-2 h-4 w-4" />
          ููุชุฑุฉ
          {isExpanded ? <ChevronUp /> : <ChevronDown />}
          {activeFiltersCount > 0 && <Badge>{activeFiltersCount}</Badge>}
        </Button>
        {activeFiltersCount > 0 && (
          <Button onClick={clearFilters}>
            <X className="ml-1 h-3 w-3" />
            ูุณุญ ุงููู
          </Button>
        )}
      </div>

      {/* Expandable Container */}
      {isExpanded && (
        <Card className="border-2 border-primary/20 bg-muted/30">
          <CardContent className="pt-6">
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
              {/* ุงูููุงุชุฑ */}
            </div>
            
            {/* Active Filters Summary */}
            {activeFiltersCount > 0 && (
              <div className="mt-4 pt-4 border-t">
                <span>{activeFiltersCount} ููุชุฑ ูุดุท</span>
                <Button onClick={clearFilters}>ูุณุญ ุฌููุน ุงูููุงุชุฑ</Button>
              </div>
            )}
          </CardContent>
        </Card>
      )}
    </div>
  )
}
```

### 5. ุงูุชุญุฏูุซุงุช ูู ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุทูุจูุงุช

```typescript
<CardHeader>
  <CardTitle>ุงูุทูุจูุงุช</CardTitle>
  <CardDescription>ุนุฑุถ ูุฅุฏุงุฑุฉ ุฌููุน ุงูุทูุจูุงุช ูู ุงููุธุงู</CardDescription>
  
  <div className="space-y-3 pt-4">
    {/* Search and Refresh */}
    <div className="flex gap-2">
      <div className="relative flex-1">
        <Search className="absolute right-3 top-3 h-4 w-4 text-muted-foreground" />
        <Input placeholder="ุงูุจุญุซ ูู ุงูุทูุจูุงุช..." />
      </div>
      <Button variant="outline" onClick={() => loadOrders(false)}>
        <RefreshCw />
      </Button>
    </div>
    
    {/* Expandable Filters */}
    <OrderFiltersExpandable
      filters={filters}
      onFiltersChange={setFilters}
      departments={uniqueDepartments}
      warehouses={uniqueWarehouses}
      users={uniqueUsers}
      showDepartmentFilter={true}
      showWarehouseFilter={true}
      showUserFilter={true}
      showStatusFilter={true}
    />
  </div>
</CardHeader>
```

## ุงูููุงุฑูุฉ

### Popover (ุงููุฏูู)

**ุงููููุฒุงุช:**
- โ ูููุฑ ูุณุงุญุฉ ุนูู ุงูุดุงุดุฉ
- โ ุชุตููู ูุธูู

**ุงูุนููุจ:**
- โ ูุญุชุงุฌ ููุฑุฉ ููุชุญ ุงููุงุฆูุฉ
- โ ูุง ูููู ุฑุคูุฉ ุงูููุงุชุฑ ูุจุงุดุฑุฉ
- โ ูุฏ ูููู ูุญุฏูุฏุงู ูู ุงููุณุงุญุฉ
- โ ุตุนูุจุฉ ูู ุงูุดุงุดุงุช ุงูุตุบูุฑุฉ

### Expandable Container (ุงูุฌุฏูุฏ)

**ุงููููุฒุงุช:**
- โ ุนุฑุถ ูุงุถุญ ูุฌููุน ุงูููุงุชุฑ
- โ ุณูููุฉ ุงููุตูู ูุงูุชุนุฏูู
- โ ุชุตููู ูุชุฌุงูุจ ููุชุงุฒ
- โ ููุฎุต ูุงุถุญ ููููุงุชุฑ ุงููุดุทุฉ
- โ ุฒุฑ ูุณุญ ุณุฑูุน ูุชุงุญ ุฏุงุฆูุงู
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู

**ุงูุนููุจ:**
- โ๏ธ ูุฃุฎุฐ ูุณุงุญุฉ ุฃูุจุฑ ุนูุฏ ุงูุชูุณูุน (ููู ุงุฎุชูุงุฑู)

## ุงูููุงุฆุฏ

### 1. ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- **ูุถูุญ ุฃูุจุฑ:** ุฌููุน ุงูููุงุชุฑ ูุฑุฆูุฉ ูู ููุณ ุงูููุช
- **ุณูููุฉ ุงูุงุณุชุฎุฏุงู:** ูุง ุญุงุฌุฉ ููุชููู ุจูู ุงูููุงุฆู
- **ุณุฑุนุฉ ุฃูุจุฑ:** ุชุทุจูู ุนุฏุฉ ููุงุชุฑ ุจุณุฑุนุฉ

### 2. ุชุตููู ุงุญุชุฑุงูู
- **ุญุงููุฉ ูููุฒุฉ:** border ูููู ูุฎูููุฉ ูููุฒุฉ
- **ุชูุธูู ููุชุงุฒ:** Grid layout ูุชุฌุงูุจ
- **ูุคุดุฑุงุช ูุงุถุญุฉ:** ุนุฏุงุฏ ุงูููุงุชุฑ ูููุฎุต ูุดุท

### 3. ูุฑููุฉ ุฃูุจุฑ
- **ูุงุจู ููุชูุณุน:** ูููู ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูููุงุชุฑ ุจุณูููุฉ
- **ูุชุฌุงูุจ:** ูุชููู ูุน ุฌููุน ุฃุญุฌุงู ุงูุดุงุดุงุช
- **ูุงุจู ููุชุฎุตูุต:** ุณูู ุงูุชุนุฏูู ูุงูุชุทููุฑ

## ุงูุชูุงูู

- โ **ุฌููุน ุงููุชุตูุญุงุช ุงูุญุฏูุซุฉ**
- โ **ุงูุดุงุดุงุช ุงูุตุบูุฑุฉ (Mobile)**
- โ **ุงูุฃุฌูุฒุฉ ุงูููุญูุฉ (Tablet)**
- โ **ุงูุดุงุดุงุช ุงููุจูุฑุฉ (Desktop)**

## ุงูุฃุฏุงุก

- **Optimized:** ุงุณุชุฎุฏุงู `useState` ููุชุญูู ูู ุงูุชูุณูุน/ุงูุทู
- **Efficient:** ุนุฑุถ ุงูููุงุชุฑ ููุท ุนูุฏ ุงูุญุงุฌุฉ
- **Fast:** ูุง ุชุฃุซูุฑ ุนูู ุณุฑุนุฉ ุงูุชุทุจูู

## ุงูููุงุญุธุงุช

1. **ุงูุญุงูุฉ ุงูุงูุชุฑุงุถูุฉ:** ุงูุญุงููุฉ ูุทููุฉ (collapsed) ุนูุฏ ูุชุญ ุงูุตูุญุฉ
2. **ุงูุฐุงูุฑุฉ:** ุงูุญุงูุฉ ูุง ุชูุญูุธ ุนูุฏ ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ
3. **ุงูุชูุณุน ุงูุชููุงุฆู:** ูููู ุฅุถุงูุฉ ููุฒุฉ ุงูุชูุณุน ุงูุชููุงุฆู ุนูุฏ ูุฌูุฏ ููุงุชุฑ ูุดุทุฉ

## ุงูุชูุตูุงุช ุงููุณุชูุจููุฉ

1. **ุญูุธ ุญุงูุฉ ุงูุชูุณูุน:** ูู localStorage
2. **ุงูุชูุณุน ุงูุชููุงุฆู:** ุนูุฏ ูุฌูุฏ ููุงุชุฑ ูุดุทุฉ
3. **Animations:** ุฅุถุงูุฉ ุญุฑูุงุช ุงูุชูุงููุฉ ุณูุณุฉ
4. **Presets:** ุญูุธ ูุฌููุนุงุช ููุงุชุฑ ููุถูุฉ
