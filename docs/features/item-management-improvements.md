# ุชุญุณููุงุช ูุธุงู ุฅุฏุงุฑุฉ ุงูููุงุฏ

**ุงูุชุงุฑูุฎ**: 2025-11-29  
**ุงูุฅุตุฏุงุฑ**: 1.1  
**ุงูุญุงูุฉ**: โ ููููุฐ

---

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุญุณูู ูุธุงู ุฅุฏุงุฑุฉ ุงูููุงุฏ ุจุงูููุฒุงุช ุงูุชุงููุฉ:

### 1. ุชูููุฏ ุฑูุฒ ุงููุงุฏุฉ (SKU) ุชููุงุฆูุงู โ
- ูู ูุนุฏ ุงููุณุชุฎุฏู ุจุญุงุฌุฉ ูุฅุฏุฎุงู ุฑูุฒ ุงููุงุฏุฉ ูุฏููุงู
- ูุชู ุชูููุฏ SKU ุจููุท `ITM-XXXX` ุชููุงุฆูุงู
- ูุจุฏุฃ ูู `ITM-0001` ููุฒูุฏ ุชููุงุฆูุงู

### 2. ุฅุฎูุงุก ุญูู ุงููููุฉ ุงููุชููุฑุฉ โ
- ุชู ุฅุฎูุงุก ุญูู ุงููููุฉ ูู ูุงุฌูุฉ ุฅุถุงูุฉ ุงููุงุฏุฉ
- ูุชู ุชุนููู ุงููููุฉ ุฅูู `0` ุชููุงุฆูุงู ุนูุฏ ุงูุฅูุดุงุก
- ูููู ุชุญุฏูุซ ุงููููุฉ ูุงุญูุงู ูู ุตูุญุฉ ุงูุชุนุฏูู

---

## ุงูุชุบููุฑุงุช ุงูุชูููุฉ

### 1. Backend - ItemService

**ุงูููู**: `/backend/src/services/itemService.ts`

#### ุฏุงูุฉ ุฌุฏูุฏุฉ: `generateSKU()`

```typescript
private async generateSKU(): Promise<string> {
    // ุฌูุจ ุขุฎุฑ ูุงุฏุฉ ุชู ุฅูุดุงุคูุง
    const lastItem = await prisma.item.findFirst({
        orderBy: { createdAt: 'desc' },
    });

    // ุฅุฐุง ูู ุชูุฌุฏ ููุงุฏุ ุงุจุฏุฃ ูู 1
    if (!lastItem) {
        return 'ITM-0001';
    }

    // ุงุณุชุฎุฑุงุฌ ุงูุฑูู ูู ุขุฎุฑ SKU
    const lastSKU = lastItem.sku;
    const match = lastSKU.match(/ITM-(\d+)/);
    
    if (match) {
        const lastNumber = parseInt(match[1], 10);
        const newNumber = lastNumber + 1;
        return `ITM-${newNumber.toString().padStart(4, '0')}`;
    }

    // ูู ุญุงูุฉ ุนุฏู ุชุทุงุจู ุงูููุทุ ุงุจุฏุฃ ูู 1
    return 'ITM-0001';
}
```

**ุขููุฉ ุงูุนูู:**
1. ุฌูุจ ุขุฎุฑ ูุงุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ุงุณุชุฎุฑุงุฌ ุงูุฑูู ูู SKU ุงูุณุงุจู
3. ุฒูุงุฏุฉ ุงูุฑูู ุจููุฏุงุฑ 1
4. ุชูุณูู ุงูุฑูู ุจู 4 ุฎุงูุงุช (ูุซุงู: 0001, 0002, ...)
5. ุฅุฑุฌุงุน SKU ุงูุฌุฏูุฏ ุจููุท `ITM-XXXX`

#### ุชุญุฏูุซ `createItem()`

```typescript
async createItem(data: {
    name: string;
    description?: string;
    sku?: string; // ุงุฎุชูุงุฑู ุงูุขู
    quantity?: number; // ุงุฎุชูุงุฑู ุงูุขู
    category?: string;
    unit?: string;
}): Promise<Item> {
    // ุชูููุฏ SKU ุชููุงุฆูุงู ุฅุฐุง ูู ูุชู ุชูููุฑู
    const sku = data.sku || await this.generateSKU();

    return await prisma.item.create({
        data: {
            name: data.name,
            description: data.description,
            sku,
            quantity: 0, // ุฏุงุฆูุงู 0 ุนูุฏ ุงูุฅูุดุงุก
            category: data.category,
            unit: data.unit,
        },
    });
}
```

**ุงูุชุบููุฑุงุช:**
- โ `sku` ุฃุตุจุญ ุงุฎุชูุงุฑู
- โ `quantity` ุฃุตุจุญ ุงุฎุชูุงุฑู
- โ ูุชู ุชูููุฏ SKU ุชููุงุฆูุงู ุฅุฐุง ูู ููููุฑ
- โ ุงููููุฉ ุฏุงุฆูุงู `0` ุนูุฏ ุงูุฅูุดุงุก

---

### 2. Frontend - ุตูุญุฉ ุฅุถุงูุฉ ุงููุงุฏุฉ

**ุงูููู**: `/frontend/src/app/(dashboard-layout)/items/add/page.tsx`

#### ุชุญุฏูุซ ุงูุญุงูุฉ (State)

**ูุจู:**
```typescript
const [formData, setFormData] = useState({
  name: "",
  description: "",
  sku: "",
  quantity: 0,
  category: "",
  unit: "piece",
})
```

**ุจุนุฏ:**
```typescript
const [formData, setFormData] = useState({
  name: "",
  description: "",
  category: "",
  unit: "piece",
})
```

#### ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู

**ุชู ุฅุฒุงูุฉ:**
- โ ุญูู "ุฑูุฒ ุงููุงุฏุฉ (SKU)"
- โ ุญูู "ุงููููุฉ ุงููุชููุฑุฉ"

**ุชู ุฅุถุงูุฉ:**
- โ ุฑุณุงูุฉ ุชูุถูุญูุฉ: "ุณูุชู ุชูููุฏ ุฑูุฒ ุงููุงุฏุฉ (SKU) ุชููุงุฆูุงู"

**ุงููููุฐุฌ ุงูุฌุฏูุฏ:**
```tsx
<form onSubmit={handleSubmit} className="space-y-4">
  {/* ุงุณู ุงููุงุฏุฉ */}
  <div className="space-y-2">
    <Label htmlFor="name">ุงุณู ุงููุงุฏุฉ *</Label>
    <Input
      id="name"
      placeholder="ููุงุฒุงุช ุทุจูุฉ"
      value={formData.name}
      onChange={(e) => handleChange("name", e.target.value)}
      required
    />
    <p className="text-sm text-muted-foreground">
      ุณูุชู ุชูููุฏ ุฑูุฒ ุงููุงุฏุฉ (SKU) ุชููุงุฆูุงู
    </p>
  </div>

  {/* ุงููุตู */}
  <div className="space-y-2">
    <Label htmlFor="description">ุงููุตู</Label>
    <Textarea ... />
  </div>

  {/* ุงููุฆุฉ ูุงููุญุฏุฉ */}
  <div className="grid gap-4 md:grid-cols-2">
    <div className="space-y-2">
      <Label htmlFor="category">ุงููุฆุฉ</Label>
      <Input ... />
    </div>
    <div className="space-y-2">
      <Label htmlFor="unit">ุงููุญุฏุฉ</Label>
      <Input ... />
    </div>
  </div>
</form>
```

---

### 3. Frontend - ุชุญุฏูุซ ุงูุฃููุงุน (Types)

**ุงูููู**: `/frontend/src/types.ts`

```typescript
export interface CreateItemRequest {
  name: string
  description?: string
  sku?: string // ุงุฎุชูุงุฑู - ููููุฏ ุชููุงุฆูุงู
  quantity?: number // ุงุฎุชูุงุฑู - ููุนูู ุฅูู 0 ุชููุงุฆูุงู
  category?: string
  unit?: string
}
```

**ุงูุชุบููุฑุงุช:**
- โ `sku` ุฃุตุจุญ ุงุฎุชูุงุฑู (`sku?: string`)
- โ `quantity` ุฃุตุจุญ ุงุฎุชูุงุฑู (`quantity?: number`)

---

## ุฃูุซูุฉ ุนูู ุงูุงุณุชุฎุฏุงู

### ูุซุงู 1: ุฅูุดุงุก ูุงุฏุฉ ุฌุฏูุฏุฉ

**Frontend Request:**
```typescript
await itemService.createItem({
  name: "ููุงุฒุงุช ุทุจูุฉ",
  description: "ููุงุฒุงุช ุทุจูุฉ ูุนููุฉ",
  category: "ูุณุชูุฒูุงุช ุทุจูุฉ",
  unit: "ุนูุจุฉ"
})
```

**Backend Processing:**
1. ูุณุชูุจู ุงูุจูุงูุงุช ุจุฏูู `sku` ู `quantity`
2. ูุณุชุฏุนู `generateSKU()` ูุชูููุฏ ุฑูุฒ ุชููุงุฆู
3. ูุนูู `quantity = 0`
4. ููุดุฆ ุงููุงุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงููุชูุฌุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```json
{
  "id": "uuid-here",
  "name": "ููุงุฒุงุช ุทุจูุฉ",
  "description": "ููุงุฒุงุช ุทุจูุฉ ูุนููุฉ",
  "sku": "ITM-0001",
  "quantity": 0,
  "category": "ูุณุชูุฒูุงุช ุทุจูุฉ",
  "unit": "ุนูุจุฉ",
  "createdAt": "2025-11-29T...",
  "updatedAt": "2025-11-29T..."
}
```

### ูุซุงู 2: ุฅูุดุงุก ุนุฏุฉ ููุงุฏ

**ุงููุงุฏุฉ ุงูุฃููู:**
- SKU: `ITM-0001`

**ุงููุงุฏุฉ ุงูุซุงููุฉ:**
- SKU: `ITM-0002`

**ุงููุงุฏุฉ ุงูุซุงูุซุฉ:**
- SKU: `ITM-0003`

**ุงููุงุฏุฉ ุงูุนุงุดุฑุฉ:**
- SKU: `ITM-0010`

**ุงููุงุฏุฉ ุงููุฆุฉ:**
- SKU: `ITM-0100`

**ุงููุงุฏุฉ ุงูุฃูู:**
- SKU: `ITM-1000`

---

## ููุท SKU

### ุงูุชูุณูู
```
ITM-XXXX
```

- `ITM`: ุจุงุฏุฆุฉ ุซุงุจุชุฉ (Item)
- `-`: ูุงุตู
- `XXXX`: ุฑูู ุชุณูุณูู ูู 4 ุฎุงูุงุช (0001-9999)

### ุฃูุซูุฉ
- `ITM-0001` - ุงููุงุฏุฉ ุงูุฃููู
- `ITM-0042` - ุงููุงุฏุฉ ุงูุซุงููุฉ ูุงูุฃุฑุจุนูู
- `ITM-0100` - ุงููุงุฏุฉ ุงููุฆุฉ
- `ITM-1234` - ุงููุงุฏุฉ 1234
- `ITM-9999` - ุงููุงุฏุฉ 9999

### ููุงุญุธุงุช
- ูุจุฏุฃ ุงูุนุฏ ูู `0001` ูููุณ `0000`
- ูุฏุนู ุญุชู 9999 ูุงุฏุฉ
- ุฅุฐุง ูุตู ุงูุนุฏุงุฏ ุฅูู 9999ุ ุณูุณุชูุฑ ุจู `ITM-10000` (5 ุฎุงูุงุช)

---

## ุงูููุงุฆุฏ

### 1. ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- โ ูููุฐุฌ ุฃุจุณุท ูุฃุณุฑุน
- โ ูุง ุญุงุฌุฉ ููุชูููุฑ ูู ุฑููุฒ ูุฑูุฏุฉ
- โ ุชูููู ุงูุฃุฎุทุงุก ุงูุจุดุฑูุฉ

### 2. ุงูุงุชุณุงู
- โ ุฌููุน ุฑููุฒ ุงูููุงุฏ ุจููุณ ุงูููุท
- โ ุณูููุฉ ุงููุฑุฒ ูุงูุจุญุซ
- โ ุชูุธูู ุฃูุถู

### 3. ุงูุฃูุงู
- โ ููุน ุงูุชูุฑุงุฑ ุชููุงุฆูุงู
- โ ุชุณูุณู ููุทูู ูููุธู

### 4. ุฅุฏุงุฑุฉ ุงููุฎุฒูู
- โ ุงููููุฉ ุงููุจุฏุฆูุฉ ุฏุงุฆูุงู 0
- โ ูุชู ุชุญุฏูุซ ุงููููุฉ ุนูุฏ ุงูุงุณุชูุงู
- โ ุชุชุจุน ุฏููู ูููุฎุฒูู

---

## ุงููููุงุช ุงููุนุฏูุฉ

### Backend
- โ `/backend/src/services/itemService.ts`
  - ุฅุถุงูุฉ ุฏุงูุฉ `generateSKU()`
  - ุชุญุฏูุซ `createItem()`

### Frontend
- โ `/frontend/src/app/(dashboard-layout)/items/add/page.tsx`
  - ุฅุฒุงูุฉ ุญููู SKU ูุงููููุฉ
  - ุชุญุฏูุซ ุงูุญุงูุฉ ูุงููููุฐุฌ
- โ `/frontend/src/types.ts`
  - ุชุญุฏูุซ `CreateItemRequest`

---

## ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุชูููุฏ SKU

```bash
# ุฅูุดุงุก ูุงุฏุฉ ุฃููู
POST /api/items
{
  "name": "ูุงุฏุฉ ุชุฌุฑูุจูุฉ 1"
}
# ุงููุชูุฌุฉ: SKU = ITM-0001

# ุฅูุดุงุก ูุงุฏุฉ ุซุงููุฉ
POST /api/items
{
  "name": "ูุงุฏุฉ ุชุฌุฑูุจูุฉ 2"
}
# ุงููุชูุฌุฉ: SKU = ITM-0002
```

### ุงุฎุชุจุงุฑ ุงููููุฉ ุงููุจุฏุฆูุฉ

```bash
# ุฅูุดุงุก ูุงุฏุฉ ุฌุฏูุฏุฉ
POST /api/items
{
  "name": "ููุงุฒุงุช ุทุจูุฉ"
}

# ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
GET /api/items/{id}
# ุงููุชูุฌุฉ: quantity = 0
```

---

## ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑู)

### ุชุญุณููุงุช ูุณุชูุจููุฉ

1. **ููุท SKU ูุฎุตุต ุญุณุจ ุงููุฆุฉ:**
   ```
   MED-0001  // ูุณุชูุฒูุงุช ุทุจูุฉ
   EQP-0001  // ุฃุฌูุฒุฉ
   PHR-0001  // ุฃุฏููุฉ
   ```

2. **ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงูุฃุฑูุงู ุงููุญุฐููุฉ:**
   - ุชุชุจุน ุงูุฃุฑูุงู ุงููุญุฐููุฉ
   - ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงููุง ุนูุฏ ุงูุฅูุดุงุก

3. **ุชุฎุตูุต ุงูุจุงุฏุฆุฉ:**
   - ุงูุณูุงุญ ูููุณุคูู ุจุชุฎุตูุต ุงูุจุงุฏุฆุฉ
   - ูุซุงู: `ITEM-`, `MAT-`, `PRD-`

4. **ุงูุชุญูู ูู ุงูุชูุฑุฏ:**
   - ุฅุถุงูุฉ ูุญุต ุฅุถุงูู ููุชุฃูุฏ ูู ุนุฏู ุงูุชูุฑุงุฑ
   - ูุนุงูุฌุฉ ุงูุญุงูุงุช ุงูุงุณุชุซูุงุฆูุฉ

---

## ุงูุฎูุงุตุฉ

ุชู ุชุญุณูู ูุธุงู ุฅุฏุงุฑุฉ ุงูููุงุฏ ุจูุฌุงุญ:
- โ ุชูููุฏ SKU ุชููุงุฆู ุจููุท `ITM-XXXX`
- โ ุฅุฎูุงุก ุญูู ุงููููุฉ ุงููุชููุฑุฉ
- โ ุงููููุฉ ุงููุจุฏุฆูุฉ ุฏุงุฆูุงู `0`
- โ ูุงุฌูุฉ ูุณุชุฎุฏู ุฃุจุณุท ูุฃุณุฑุน
- โ ุชูููู ุงูุฃุฎุทุงุก ุงูุจุดุฑูุฉ

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ**: Antigravity AI  
**ุงูุชุงุฑูุฎ**: 2025-11-29
