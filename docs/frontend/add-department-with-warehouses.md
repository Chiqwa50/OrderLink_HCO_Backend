# ูุงุฌูุฉ ุฅุถุงูุฉ ุงููุณู ูุน ุฑุจุท ุงููุณุชูุฏุนุงุช

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุงุฌูุฉ ุฅุถุงูุฉ ุงููุณู ูุชุชุถูู ุฅููุงููุฉ ุฑุจุท ุงููุณุชูุฏุนุงุช ูุจุงุดุฑุฉ ุนูุฏ ุฅูุดุงุก ุงููุณูุ ูุน ุฅุฏุงุฑุฉ ูุงููุฉ ููุฃููููุงุช ูุงููุณุชูุฏุน ุงูุฑุฆูุณู.

---

## โจ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. **ุจูุงูุงุช ุงููุณู ุงูุฃุณุงุณูุฉ**
- ุงุณู ุงููุณู (ุฅุฌุจุงุฑู)
- ุฑูุฒ ุงููุณู (ุฅุฌุจุงุฑู - ูุชุญูู ุชููุงุฆูุงู ููุฃุญุฑู ุงููุจูุฑุฉ)
- ุงููุตู (ุงุฎุชูุงุฑู)

### 2. **ุฅุฏุงุฑุฉ ุงููุณุชูุฏุนุงุช ุงููุฑุชุจุทุฉ**
- โ ุฅุถุงูุฉ ูุณุชูุฏุนุงุช ูุชุนุฏุฏุฉ
- โ ุชุฑุชูุจ ุงูุฃููููุงุช (ุณุญุจ ูุฅููุงุช ุจุฏูู)
- โ ุชุนููู ูุณุชูุฏุน ุฑุฆูุณู
- โ ุญุฐู ูุณุชูุฏุนุงุช
- โ ููุน ุงูุชูุฑุงุฑ

---

## ๐จ ููููุงุช ุงููุงุฌูุฉ

### ุงููุณู ุงูุฃูู: ุจูุงูุงุช ุงููุณู ุงูุฃุณุงุณูุฉ
```typescript
- ุงุณู ุงููุณู: Input field
- ุฑูุฒ ุงููุณู: Input field (uppercase)
- ุงููุตู: Textarea
```

### ุงููุณู ุงูุซุงูู: ุงููุณุชูุฏุนุงุช ุงููุฑุชุจุทุฉ
```typescript
- Select dropdown: ุงุฎุชูุงุฑ ูุณุชูุฏุน
- ุฒุฑ ุฅุถุงูุฉ: ุฅุถุงูุฉ ุงููุณุชูุฏุน ุงููุฎุชุงุฑ
- ูุงุฆูุฉ ุงููุณุชูุฏุนุงุช ุงููุถุงูุฉ:
  - Badge: ุฑูู ุงูุฃููููุฉ
  - ุงุณู ุงููุณุชูุฏุน
  - ููุน ุงููุณุชูุฏุน
  - Badge "ุฑุฆูุณู" (ุฅุฐุง ูุงู primary)
  - ุฃุฒุฑุงุฑ ุงูุชุญูู:
    - โ ุฑูุน ุงูุฃููููุฉ
    - โ ุฎูุถ ุงูุฃููููุฉ
    - โญ ุชุนููู ูุฑุฆูุณู
    - โ ุญุฐู
```

---

## ๐ ุณูุฑ ุงูุนูู (Workflow)

### ุฅุถุงูุฉ ูุณุชูุฏุน:
```
1. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ูุณุชูุฏุน ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
2. ูุถุบุท ุนูู ุฒุฑ "ุฅุถุงูุฉ"
3. ูุชู ุฅุถุงูุฉ ุงููุณุชูุฏุน ูููุงุฆูุฉ
4. ููุนุทู ุฃููููุฉ ุชููุงุฆูุฉ (ุขุฎุฑ ุฑูู + 1)
5. ุฅุฐุง ูุงู ุฃูู ูุณุชูุฏุนุ ููุนูู ูุฑุฆูุณู ุชููุงุฆูุงู
6. ููุญุฐู ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ ูููุน ุงูุชูุฑุงุฑ
```

### ุชุฑุชูุจ ุงูุฃููููุงุช:
```
1. ุงููุณุชุฎุฏู ูุถุบุท ุนูู โ ุฃู โ
2. ูุชู ุชุจุฏูู ุงููุณุชูุฏุน ูุน ุงูุฐู ูุจูู/ุจุนุฏู
3. ูุชู ุฅุนุงุฏุฉ ุชุฑููู ุงูุฃููููุงุช ุชููุงุฆูุงู (1, 2, 3, ...)
```

### ุชุนููู ูุณุชูุฏุน ุฑุฆูุณู:
```
1. ุงููุณุชุฎุฏู ูุถุบุท ุนูู โญ ุจุฌุงูุจ ุงููุณุชูุฏุน
2. ูุชู ุฅูุบุงุก "ุฑุฆูุณู" ูู ุงููุณุชูุฏุน ุงูุณุงุจู
3. ููุนูู ุงููุณุชูุฏุน ุงูุฌุฏูุฏ ูุฑุฆูุณู
4. ูุธูุฑ Badge "ุฑุฆูุณู" ุจุฌุงูุจ ุงุณูู
```

### ุญุฐู ูุณุชูุฏุน:
```
1. ุงููุณุชุฎุฏู ูุถุบุท ุนูู โ
2. ููุญุฐู ุงููุณุชูุฏุน ูู ุงููุงุฆูุฉ
3. ูุชู ุฅุนุงุฏุฉ ุชุฑููู ุงูุฃููููุงุช
4. ุฅุฐุง ูุงู ุฑุฆูุณูุงูุ ููุนูู ุงูุฃูู ูุฑุฆูุณู ุชููุงุฆูุงู
5. ูุนูุฏ ูููุงุฆูุฉ ุงูููุณุฏูุฉ
```

---

## ๐พ ุงูุจูุงูุงุช ุงูููุฑุณูุฉ

### Request Body:
```typescript
{
  name: "ูุณู ุงูุทูุงุฑุฆ",
  code: "EMRG",
  description: "ูุณู ุงูุทูุงุฑุฆ ุงูุฑุฆูุณู",
  warehouses: [
    {
      warehouseId: "warehouse-1-id",
      priority: 1,
      isPrimary: true
    },
    {
      warehouseId: "warehouse-2-id",
      priority: 2,
      isPrimary: false
    }
  ]
}
```

### API Endpoint:
```
POST /api/departments
```

---

## ๐ฏ ููุงุนุฏ ุงูุนูู (Business Rules)

### 1. ุงูุฃููููุงุช:
- โ ุฑูู ุฃูู = ุฃููููุฉ ุฃุนูู (1 ุฃุนูู ูู 2)
- โ ูุชู ุงูุชุฑููู ุชููุงุฆูุงู (1, 2, 3, ...)
- โ ูุง ูููู ุฃู ูููู ููุงู ูุฌูุงุช ูู ุงูุชุฑููู

### 2. ุงููุณุชูุฏุน ุงูุฑุฆูุณู:
- โ ูููู ุชุนููู ูุณุชูุฏุน ูุงุญุฏ ููุท ูุฑุฆูุณู
- โ ุฃูู ูุณุชูุฏุน ููุถุงู ูููู ุฑุฆูุณูุงู ุชููุงุฆูุงู
- โ ุนูุฏ ุญุฐู ุงููุณุชูุฏุน ุงูุฑุฆูุณูุ ููุนูู ุงูุฃูู ูุฑุฆูุณู

### 3. ุงูุชุญูู:
- โ ูุง ูููู ุฅุถุงูุฉ ููุณ ุงููุณุชูุฏุน ูุฑุชูู
- โ ุงุณู ุงููุณู ูุฑูุฒู ุฅุฌุจุงุฑูุงู
- โ ุงููุณุชูุฏุนุงุช ุงุฎุชูุงุฑูุฉ (ูููู ุฅุถุงูุชูุง ูุงุญูุงู)

---

## ๐จ ุงูุชุตููู ูุงูู UX

### ุงูุฃููุงู ูุงูุฃููููุงุช:
```typescript
- Building2: ุฃููููุฉ ุงููุณู
- Warehouse: ุฃููููุฉ ุงููุณุชูุฏุนุงุช
- Star: ุงููุณุชูุฏุน ุงูุฑุฆูุณู
- ArrowUp/ArrowDown: ุชุฑุชูุจ ุงูุฃููููุงุช
- Plus: ุฅุถุงูุฉ
- X: ุญุฐู
```

### ุงูุญุงูุงุช:
```typescript
- Loading: ุนูุฏ ุชุญููู ุงููุณุชูุฏุนุงุช
- Empty: ูุง ุชูุฌุฏ ูุณุชูุฏุนุงุช ูุถุงูุฉ
- Error: ุฑุณุงูุฉ ุฎุทุฃ ูุงุถุญุฉ
- Success: ุฅุนุงุฏุฉ ุชูุฌูู ูุตูุญุฉ ุงูุฅุฏุงุฑุฉ
```

### Responsive:
- โ ูุนูู ุนูู ุฌููุน ุงูุดุงุดุงุช
- โ ุชุตููู ูุฑู ููุฃุฒุฑุงุฑ
- โ ูุงุฆูุฉ ููุณุฏูุฉ responsive

---

## ๐ง ุงูููููุงุช ุงููุณุชุฎุฏูุฉ

### ูู shadcn/ui:
```typescript
- Card, CardHeader, CardTitle, CardDescription, CardContent
- Input
- Label
- Textarea
- Select, SelectTrigger, SelectValue, SelectContent, SelectItem
- Button
- Badge
- Alert, AlertDescription
- Icons: ูู lucide-react
```

---

## ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ูุซุงู 1: ุฅุถุงูุฉ ูุณู ุจุฏูู ูุณุชูุฏุนุงุช
```typescript
{
  name: "ูุณู ุงูุงุณุชูุจุงู",
  code: "RCPT",
  description: "ูุณู ุงูุงุณุชูุจุงู ูุงูุชุณุฌูู"
  // warehouses: [] ุฃู ุบูุฑ ููุฌูุฏ
}
```

### ูุซุงู 2: ุฅุถุงูุฉ ูุณู ูุน ูุณุชูุฏุน ูุงุญุฏ
```typescript
{
  name: "ูุณู ุงูุทูุงุฑุฆ",
  code: "EMRG",
  warehouses: [
    {
      warehouseId: "pharmacy-id",
      priority: 1,
      isPrimary: true
    }
  ]
}
```

### ูุซุงู 3: ุฅุถุงูุฉ ูุณู ูุน ุนุฏุฉ ูุณุชูุฏุนุงุช
```typescript
{
  name: "ูุณู ุงูุนูุงูุฉ ุงููุฑูุฒุฉ",
  code: "ICU",
  warehouses: [
    {
      warehouseId: "pharmacy-id",
      priority: 1,
      isPrimary: true
    },
    {
      warehouseId: "equipment-id",
      priority: 2,
      isPrimary: false
    },
    {
      warehouseId: "logistics-id",
      priority: 3,
      isPrimary: false
    }
  ]
}
```

---

## ๐ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### ุงูุฃุฎุทุงุก ุงููุญุชููุฉ:
```typescript
- "ูุดู ุชุญููู ุงููุณุชูุฏุนุงุช" - ุนูุฏ ูุดู ุฌูุจ ุงููุณุชูุฏุนุงุช
- "ูุฐุง ุงููุณุชูุฏุน ูุถุงู ุจุงููุนู" - ุนูุฏ ูุญุงููุฉ ุฅุถุงูุฉ ูุณุชูุฏุน ููุฑุฑ
- "ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฅูุดุงุก ุงููุณู" - ุนูุฏ ูุดู ุงูุฅูุดุงุก
- ุฑุณุงุฆู ูู ุงูู Backend (validation errors)
```

### ุงูุนุฑุถ:
```typescript
- Alert component ุจุงูููู ุงูุฃุญูุฑ
- ุฑุณุงูุฉ ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ
- ูุฎุชูู ุนูุฏ ุฅุนุงุฏุฉ ุงููุญุงููุฉ
```

---

## ๐ ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ (ุงุฎุชูุงุฑู)

### ููุชุฑุญุงุช:
1. **Drag & Drop** - ุณุญุจ ูุฅููุงุช ูุชุฑุชูุจ ุงููุณุชูุฏุนุงุช
2. **Bulk Add** - ุฅุถุงูุฉ ุนุฏุฉ ูุณุชูุฏุนุงุช ุฏูุนุฉ ูุงุญุฏุฉ
3. **Search** - ุจุญุซ ูู ุงููุณุชูุฏุนุงุช
4. **Filters** - ููุชุฑุฉ ุญุณุจ ููุน ุงููุณุชูุฏุน
5. **Preview** - ูุนุงููุฉ ูุจู ุงูุญูุธ
6. **Auto-save** - ุญูุธ ุชููุงุฆู ููุณูุฏุฉ

---

## ๐ฑ ุงูุงุณุชุฌุงุจุฉ (Responsive)

### Mobile (< 640px):
- ุงูุฃุฒุฑุงุฑ ุชุตุจุญ ุฃุตุบุฑ
- ุงููุงุฆูุฉ ุงูููุณุฏูุฉ ุชุฃุฎุฐ ุงูุนุฑุถ ุงููุงูู
- ุงูุฃููููุงุช ุชุธูุฑ ูุฃุฑูุงู ููุท

### Tablet (640px - 1024px):
- ุชุตููู ูุชูุณุท
- ุฃุฒุฑุงุฑ ุจุญุฌู ููุงุณุจ

### Desktop (> 1024px):
- ุงูุชุตููู ุงููุงูู
- ุฌููุน ุงูููุฒุงุช ูุฑุฆูุฉ

---

## โ ูุงุฆูุฉ ุงูุชุญูู

### ูุจู ุงูุฅุทูุงู:
- [x] ุชุญููู ุงููุณุชูุฏุนุงุช ุงููุดุทุฉ ููุท
- [x] ููุน ุฅุถุงูุฉ ูุณุชูุฏุนุงุช ููุฑุฑุฉ
- [x] ุชุฑุชูุจ ุงูุฃููููุงุช ุชููุงุฆูุงู
- [x] ุชุนููู ุฃูู ูุณุชูุฏุน ูุฑุฆูุณู
- [x] ุฅุนุงุฏุฉ ุชุฑููู ุนูุฏ ุงูุญุฐู
- [x] ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- [x] Loading states
- [x] Validation
- [x] Responsive design
- [x] RTL support

---

## ๐ ุงููููุงุช ุฐุงุช ุงูุตูุฉ

### Frontend:
- `/frontend/src/app/(dashboard-layout)/departments/add/page.tsx`
- `/frontend/src/types.ts`
- `/frontend/src/services/department-service.ts`
- `/frontend/src/services/warehouse-service.ts`

### Backend:
- `/backend/src/controllers/departmentController.ts`
- `/backend/src/services/departmentService.ts`
- `/backend/src/routes/departmentRoutes.ts`

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2025-12-01  
**ุงูุฅุตุฏุงุฑ:** 2.0.0  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู
